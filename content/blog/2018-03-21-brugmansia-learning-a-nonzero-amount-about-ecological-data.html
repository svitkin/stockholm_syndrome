---
title: "Brugmansia: Learning a nonzero amount about ecological data"
date: "2018-03-21"
slug: "Brugmansia-Learning-a-Nonzero-Amount-About-Ecological-Data"
draft: true
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<link href="/rmarkdown-libs/leaflet-label/leaflet.label.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-label/leaflet.label.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>
<script src="/rmarkdown-libs/leaflet-providers/leaflet-providers.js"></script>
<script src="/rmarkdown-libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
<link href="/rmarkdown-libs/leaflet-markercluster/MarkerCluster.css" rel="stylesheet" />
<link href="/rmarkdown-libs/leaflet-markercluster/MarkerCluster.Default.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-markercluster/leaflet.markercluster.js"></script>
<script src="/rmarkdown-libs/leaflet-markercluster/leaflet.markercluster.layersupport-src.js"></script>
<script src="/rmarkdown-libs/leaflet-markercluster/leaflet.markercluster.freezable-src.js"></script>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This post is inspired by the imbalance of my interest in the field of ecology and my understanding of it. So I thought I would do some simplistic data stuff as an initial introduction into the world. I’m going to assume anyone reading this has as much knowledge of ecology as I do (i.e. they read a book about it years ago that they liked very much).</p>
<p>I chose to focus my exploration on the plant genus (the step above species in taxonomic rank) <a href="https://en.wikipedia.org/wiki/Brugmansia">Brugmansia</a>, specifically in the country of Colombia. Brugmansia has a really interesting and complicated history worth digging into.</p>
</div>
<div id="obtaining-data" class="section level2">
<h2>Obtaining Data</h2>
<p><strong>Insert information about BIEN</strong></p>
<pre class="r"><code># Send query to BIEN database and
# only keep records with valid latitude, longitude, and date collected
brugmansia_data &lt;- 
  BIEN_occurrence_genus(genus = &quot;Brugmansia&quot;,
                        cultivated = TRUE,
                        only.new.world = FALSE,
                        all.taxonomy = TRUE,
                        native.status = TRUE,
                        observation.type = TRUE,
                        political.boundaries = TRUE) %&gt;% 
  filter(!is.na(latitude),
         !is.na(longitude),
         !is.na(date_collected))

# Restrict queried data to only records occuring in Colombia
brugmansia_data_col &lt;-
  brugmansia_data %&gt;% 
  filter(country == &quot;Colombia&quot;)

# Create map of Brugmansia occurence in Colombia
leaflet(data = brugmansia_data_col,
        width = 750,
        height = 500) %&gt;% 
  addProviderTiles(providers$OpenTopoMap) %&gt;% 
  addCircleMarkers(~longitude, ~latitude,
                   clusterOptions = markerClusterOptions(),
                   popup = ~paste0(&quot;Latitude: &quot;, as.character(latitude), &quot;&lt;/br&gt;&quot;,
                                   &quot;Longitude: &quot;, as.character(longitude), &quot;&lt;/br&gt;&quot;,
                                   &quot;Locality: &quot;, as.character(locality)),
                   stroke = FALSE,
                   fillOpacity = 0.66)</code></pre>
<div id="htmlwidget-1" style="width:750px;height:500px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["OpenTopoMap",null,null,{"errorTileUrl":"","noWrap":false,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false}]},{"method":"addCircleMarkers","args":[[1.22352,5.71666,5.51666,4.65,10.56666,5.20648,5.02873,5.27824,4.87297,5.15792,4.47305,5.06692,5.27824,5.02873,5.51889,5.04822,5.20648,5.20648,5.20648,5.20648,1.18972,6.1333,5,4.5611,5.0462,5.20648,4.58154,5.20648,5.20648,6.22799,5.20648,1.05,1.122216,5.20648,6.44751,4.36547,1.5,5.43325,5.20648,5.53,5.20648,5.02873,6.46028,5.20648,4.70857,5.15792,5.06692,5.20648,5.20648,4.36547,5.02873,5.02873,5.27824,5.06692,4.30677,5.20648,5.06692,5.02873,4.66805,6.94462,6.94462,6.270845,4.32991,4.5611,6.76081,5.1041,4.44895,4.5611,4.79876,3.66136,4.71178,4.38379,4.5611,4.38379,5.20648,4.79876,5.20648,5.20648,5.1041,1.18972,4.79876,4.44895,5.32103,4.97931,5.2219,5.2219,5.55094,4.5611,4.66805,4.79876,4.79876,4.5611,3.66136,4.44895,5.2219,4.44895,4.5611,5.54963,0.9,6.22268,1.16666,1.16666,5.60327,4.61515,4.75,4.70305,10.93333,5.0462,10.93333,4.75,4.61666,6.31667],[-76.952,-76.38333,-75.66666,-74.38333,-73.61666,-73.9014,-74.0328,-73.5838,-75.1711,-73.6693,-74.11611,-74.0985,-73.5838,-74.0328,-75.6861,-74.0395,-73.9014,-73.9014,-73.9014,-73.9014,-76.8981,-75.3958,-74.1667,-73.9689,-74.0223,-73.9014,-74.3253,-73.9014,-73.9014,-75.5261,-73.9014,-77.68333,-77.647557,-73.9014,-72.3755,-74.348,-78,-72.7027,-73.9014,-75.6782,-73.9014,-74.0328,-72.3842,-73.9014,-73.9115,-73.6693,-74.0985,-73.9014,-73.9014,-74.348,-74.0328,-74.0328,-73.5838,-74.0985,-73.9864,-73.9014,-74.0985,-74.0328,-74.1,-73.0768,-73.0768,-75.563321,-73.9458,-73.9689,-76.3106,-73.7025,-74.0486,-73.9689,-73.9506,-76.3379,-75.4883,-74.3294,-73.9689,-74.3294,-73.9014,-73.9506,-73.9014,-73.9014,-73.7025,-76.8981,-73.9506,-74.0486,-73.576,-74.0037,-73.6,-73.6,-73.3712,-73.9689,-74.1,-73.9506,-73.9506,-73.9689,-76.3379,-74.0486,-73.6,-74.0486,-73.9689,-73.6336,-76.16666,-75.527,-77.96666,-77.96666,-73.9293,-74.3192,-75.5833333,-75.53527,-73.96666,-74.0223,-73.96666,-75.58333,-75.45,-75.683],10,null,null,{"lineCap":null,"lineJoin":null,"clickable":true,"pointerEvents":null,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.66,"dashArray":null},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,["Latitude: 1.22352<\/br>Longitude: -76.952<\/br>Locality: SI.","Latitude: 5.71666<\/br>Longitude: -76.38333<\/br>Locality: Carretera Tutunendo-El Carmen. Alrededores del campamento \"El 12\". Alto Río Atrato.","Latitude: 5.51666<\/br>Longitude: -75.66666<\/br>Locality: Vereda Hojas anchas. bmh-MB","Latitude: 4.65<\/br>Longitude: -74.38333<\/br>Locality: Laguna Pedro Palo above Finca San Jose, disturbed oak forest, ca. Km 32 Mosquera-La Mesa.","Latitude: 10.56666<\/br>Longitude: -73.61666<\/br>Locality: Vicinity of Pántano, 3km W of San Sebastian de rabago, in a disturbed Bosque Muy Humedo Montano Bajo zone. Rain fall 2000-4000mm/year","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa..","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquira on road from Zipaquira to Pacho.","Latitude: 5.27824<\/br>Longitude: -73.5838<\/br>Locality: On road between Villapinzon and Ventaquemada.","Latitude: 4.87297<\/br>Longitude: -75.1711<\/br>Locality: El Libano a Murilllo, km. 11 al 22 de la carretera. Alto de Peñones.","Latitude: 5.15792<\/br>Longitude: -73.6693<\/br>Locality: Along road between Choconta and Villapinzon..","Latitude: 4.47305<\/br>Longitude: -74.11611<\/br>Locality: Above Usme.","Latitude: 5.06692<\/br>Longitude: -74.0985<\/br>Locality: Paramo Guerrero, between Zipaquira and Pacho.","Latitude: 5.27824<\/br>Longitude: -73.5838<\/br>Locality: On road between Villapinzon and Ventaquemada.","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquira on road from Zipaquira to Pacho.","Latitude: 5.51889<\/br>Longitude: -75.6861<\/br>Locality: Vereda Hojas Anchas, Cerro Viringo, Cordillera Occidental. 2140-2420m.s.n.m..","Latitude: 5.04822<\/br>Longitude: -74.0395<\/br>Locality: Pantano Redondo.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa..","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: near town of Tausa.","Latitude: 1.18972<\/br>Longitude: -76.8981<\/br>Locality: Valle de Sibundoy.","Latitude: 6.1333<\/br>Longitude: -75.3958<\/br>Locality: Alrededores del rio Negro, cerca a Rionegro.","Latitude: 5<\/br>Longitude: -74.1667<\/br>Locality: NA","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi..","Latitude: 5.0462<\/br>Longitude: -74.0223<\/br>Locality: Pantano Redondo.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 4.58154<\/br>Longitude: -74.3253<\/br>Locality: Entre El Salto y el Colegio, matorrales.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 6.22799<\/br>Longitude: -75.5261<\/br>Locality: Along road from Medellin to Rionegro.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 1.05<\/br>Longitude: -77.68333<\/br>Locality: Near top of divide on Tuquerres-Ricaurte road, roadside subparamo.","Latitude: 1.122216<\/br>Longitude: -77.647557<\/br>Locality: 2km al norte del pueblo en el camino a Olaya","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 6.44751<\/br>Longitude: -72.3755<\/br>Locality: Sierra Nevada del Cocuy: Llano largo, vereda de Tabor, along bank of rio San Pablin.","Latitude: 4.36547<\/br>Longitude: -74.348<\/br>Locality: Fusagasuga hacia La Aguadita.","Latitude: 1.5<\/br>Longitude: -78<\/br>Locality: NA","Latitude: 5.43325<\/br>Longitude: -72.7027<\/br>Locality: Vereda Comijoque.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.53<\/br>Longitude: -75.6782<\/br>Locality: Verda Hojas Anchas, Cerro Viringo,9.8 kms. de Caramanta hacia Supia, Cordillera Occidental.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of  Tausa.","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquirpa on road from Zipaquira to Pacho.","Latitude: 6.46028<\/br>Longitude: -72.3842<\/br>Locality: Sierra Nevada del Cocuy, beside trail between Hacienda Ritacuba and Guican.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa..","Latitude: 4.70857<\/br>Longitude: -73.9115<\/br>Locality: Paramo de la Siberia.","Latitude: 5.15792<\/br>Longitude: -73.6693<\/br>Locality: Along road between Choconta and Villapinzon.","Latitude: 5.06692<\/br>Longitude: -74.0985<\/br>Locality: Paramo Guerrero, between Zipaquira and Pacho, near Zipaquira.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 4.36547<\/br>Longitude: -74.348<\/br>Locality: Fusagasuga hacia La Aguadita.","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquira on road from Zipaquira to Pacho.","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquira on road from Zipaquira to Pacho.","Latitude: 5.27824<\/br>Longitude: -73.5838<\/br>Locality: On road between Villapinzon and Ventaquemada..","Latitude: 5.06692<\/br>Longitude: -74.0985<\/br>Locality: Paramo Guerrero, between Zipaquira and Pacho, near Zipaquira.","Latitude: 4.30677<\/br>Longitude: -73.9864<\/br>Locality: Carretera entre Gutierrez y Fosca.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.06692<\/br>Longitude: -74.0985<\/br>Locality: Paramo Guerrero, between Zipaquira and Pacho.","Latitude: 5.02873<\/br>Longitude: -74.0328<\/br>Locality: Near town of Zipaquira on road from Zipaquira to Pacho.","Latitude: 4.66805<\/br>Longitude: -74.1<\/br>Locality: Jardin Botanico. (Bogota)..","Latitude: 6.94462<\/br>Longitude: -73.0768<\/br>Locality: La Mesa de los santos.","Latitude: 6.94462<\/br>Longitude: -73.0768<\/br>Locality: La Mesa de los Santos.","Latitude: 6.270845<\/br>Longitude: -75.563321<\/br>Locality: Jardin Botanico de Medellin","Latitude: 4.32991<\/br>Longitude: -73.9458<\/br>Locality: Fosca a Une.","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi.","Latitude: 6.76081<\/br>Longitude: -76.3106<\/br>Locality: Cuenca alta del rio Cuevas.","Latitude: 5.1041<\/br>Longitude: -73.7025<\/br>Locality: Along road near Choconta.","Latitude: 4.44895<\/br>Longitude: -74.0486<\/br>Locality: Near town of Chipaque..","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi.","Latitude: 4.79876<\/br>Longitude: -73.9506<\/br>Locality: Potoso, on road from Bogota to Guasca.","Latitude: 3.66136<\/br>Longitude: -76.3379<\/br>Locality: Hacienda El Trejo, entre El Cerrito y Palmira.","Latitude: 4.71178<\/br>Longitude: -75.4883<\/br>Locality: Parque Nat. Reg. UCUMARI. alrededores de la cabaña La pastora..","Latitude: 4.38379<\/br>Longitude: -74.3294<\/br>Locality: La Aguadita.","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi..","Latitude: 4.38379<\/br>Longitude: -74.3294<\/br>Locality: La Aguadita.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 4.79876<\/br>Longitude: -73.9506<\/br>Locality: Potosi, on road from Bogota to Guasca..","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.20648<\/br>Longitude: -73.9014<\/br>Locality: Near town of Tausa.","Latitude: 5.1041<\/br>Longitude: -73.7025<\/br>Locality: Along road near Choconta..","Latitude: 1.18972<\/br>Longitude: -76.8981<\/br>Locality: Valle de Sibundoy.","Latitude: 4.79876<\/br>Longitude: -73.9506<\/br>Locality: Potosi, on road from Bogota and Guasca.","Latitude: 4.44895<\/br>Longitude: -74.0486<\/br>Locality: Near town of Chipaque.","Latitude: 5.32103<\/br>Longitude: -73.576<\/br>Locality: Departamento: Boyacá.  Municipio: Ventaquemada.  Town of Albarracín.  Altitude:  2700 - 2800 m.","Latitude: 4.97931<\/br>Longitude: -74.0037<\/br>Locality: ca. 3 miles S. of Zipaquira on road from Zipaquira to Bogota..","Latitude: 5.2219<\/br>Longitude: -73.6<\/br>Locality: Town of  Villapinzon..","Latitude: 5.2219<\/br>Longitude: -73.6<\/br>Locality: Town of  Villapinzon..","Latitude: 5.55094<\/br>Longitude: -73.3712<\/br>Locality: Town of Tunja.","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi.","Latitude: 4.66805<\/br>Longitude: -74.1<\/br>Locality: En los predios del Jardin Botanico de Bogota, Jose Celestino Mutis.","Latitude: 4.79876<\/br>Longitude: -73.9506<\/br>Locality: Potosi on road from Bogota to Guasca.","Latitude: 4.79876<\/br>Longitude: -73.9506<\/br>Locality: Potosi, on road from Bogota and Guasca.","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi.","Latitude: 3.66136<\/br>Longitude: -76.3379<\/br>Locality: Hacienda El Trejo, entre El Cerrito y Palmira.","Latitude: 4.44895<\/br>Longitude: -74.0486<\/br>Locality: Near town of  Chipaque.","Latitude: 5.2219<\/br>Longitude: -73.6<\/br>Locality: Town of Villapinzon..","Latitude: 4.44895<\/br>Longitude: -74.0486<\/br>Locality: Near town of Chipaque.","Latitude: 4.5611<\/br>Longitude: -73.9689<\/br>Locality: Along road from Bogota to Choachi, above town of Choachi..","Latitude: 5.54963<\/br>Longitude: -73.6336<\/br>Locality: Vereda Roa, sector La Rochela.","Latitude: 0.9<\/br>Longitude: -76.16666<\/br>Locality: Comisaria. Umbria. forest.","Latitude: 6.22268<\/br>Longitude: -75.527<\/br>Locality: SE de Medellin, Via Rionegro, km 6-15 de Medellin.","Latitude: 1.16666<\/br>Longitude: -77.96666<\/br>Locality: Reserva Natural La Planada: A 7 km de Chucunés.","Latitude: 1.16666<\/br>Longitude: -77.96666<\/br>Locality: La Planada, S of Ricaurte, 7 km from Tumaco-Pasto road. Cloud forest.","Latitude: 5.60327<\/br>Longitude: -73.9293<\/br>Locality: Carretera Chiquinquira-Pauna. Antes de Pauna. San Antonio.","Latitude: 4.61515<\/br>Longitude: -74.3192<\/br>Locality: Parque Chicaque.","Latitude: 4.75<\/br>Longitude: -75.5833333<\/br>Locality: Parque Regional Ucumarí, Cordillera Central.","Latitude: 4.70305<\/br>Longitude: -75.53527<\/br>Locality: El Cedral, trocha a El Silento. 20 km. de Pereira.","Latitude: 10.93333<\/br>Longitude: -73.96666<\/br>Locality: Sierra Nevada de Santa Marta. In quebrada W of finca Los Arroyitos.","Latitude: 5.0462<\/br>Longitude: -74.0223<\/br>Locality: Pantano Redondo.","Latitude: 10.93333<\/br>Longitude: -73.96666<\/br>Locality: Sierra Nevada de Santa Marta. In quebrada W of finca Losa Arroyitos.","Latitude: 4.75<\/br>Longitude: -75.58333<\/br>Locality: Parque Regional Ucumarí, Cordillera Central, near La Pastora.","Latitude: 4.61666<\/br>Longitude: -75.45<\/br>Locality: Reserva Natural Acaime, 13 km E of Salento and 5 km E of Cocora.","Latitude: 6.31667<\/br>Longitude: -75.683<\/br>Locality: Along road to Cerro del Padre Amaya, 1.3 km from Medellin-Santafe de Antioquia road.."],null,null,null,null]}],"limits":{"lat":[0.9,10.93333],"lng":[-78,-72.3755]}},"evals":[],"jsHooks":[]}</script>
</div>
